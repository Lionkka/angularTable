<div ng-controller="productCtrl">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <!--<div class="loading" ng-show="!data">
                    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>
                    <span class="sr-only">Loading...</span>
                </div>-->
                <ul uib-pagination
                    total-items="bigTotalItems"
                    ng-model="bigCurrentPage"
                    max-size="maxSize"
                    class="pagination-sm"
                    boundary-links="true"
                    force-ellipses="true"
                    ng-change="pageChanged()"
                ></ul>

                <pre>Page: {{bigCurrentPage}} / {{numPages}}</pre>
                <table class="table table-list-search">
                    <thead>
                    <tr>
                        <th><input class="form-control input-sm" placeholder="Search id"
                                   ng-change="searchProduct()"
                                   ng-model="search.id"></th>
                        <th><input class="form-control input-sm" placeholder="Search title"
                                   ng-change="searchProduct()"
                                   ng-model="search.title"></th>
                        <th><input class="form-control input-sm" placeholder="Search price"
                                   ng-change="searchProduct()"
                                   ng-model="search.price"></th>
                        <th><input class="form-control input-sm" placeholder="Search timestamp"
                                   ng-change="searchProduct()"
                                   ng-model="search.timestamp"></th>
                        <th><select  class="form-control"
                                     ng-model="search.group_id"
                                     ng-change="searchProduct()">
                            <option value="">Search group</option>
                            <option value="{{group}}" ng-repeat="group in groups">{{group}}</option>
                        </select>
                        </th>
                        <th><select  class="form-control"
                                     ng-model="search.connectivity"
                                     ng-change="searchProduct()">
                            <option value="">Search connectivity</option>
                            <option value="{{item}}" ng-repeat="item in connectivity">{{item}}</option>
                        </select>
                        </th>
                    </tr>
                    <tr>
                        <th><a href="#" ng-click="sortType = 'id'; sortReverse = !sortReverse; sortProduct(sortType)">
                            ID
                            <span ng-show="sortType == 'id'" class="fa fa-caret-{{sortReverse?'up':'down' }}"></span>
                        </a></th>
                        <th><a href="#" ng-click="sortType = 'title'; sortReverse = !sortReverse; sortProduct(sortType)">
                            Title
                            <span ng-show="sortType == 'title'" class="fa fa-caret-{{sortReverse?'up':'down' }}"></span>
                        </a></th>
                        <th><a href="#" ng-click="sortType = 'price'; sortReverse = !sortReverse; sortProduct(sortType)">
                            Price
                            <span ng-show="sortType == 'price'" class="fa fa-caret-{{sortReverse?'up':'down' }}"></span>
                        </a></th>
                        <th><a href="#" ng-click="sortType = 'timestamp'; sortReverse = !sortReverse ; sortProduct(sortType)">
                            Timestamp
                            <span ng-show="sortType == 'timestamp'"
                                  class="fa fa-caret-{{sortReverse?'up':'down' }}"></span>
                        </a></th>
                        <th><a href="#" ng-click="sortType = 'group_id'; sortReverse = !sortReverse ; sortProduct(sortType)">
                            group_id
                            <span ng-show="sortType == 'group_id'"
                                  class="fa fa-caret-{{sortReverse?'up':'down' }}"></span>
                        </a></th>
                        <th><a href="#" ng-click="sortType = 'connectivity'; sortReverse = !sortReverse ; sortProduct(sortType)">
                            connectivity
                            <span ng-show="sortType == 'connectivity'"
                                  class="fa fa-caret-{{sortReverse?'up':'down' }}"></span>
                        </a></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="product in data | limitTo:maxSize">
                        <td>{{product.id}}</td>
                        <td>{{product.title}}</td>
                        <td>{{product.price}}</td>
                        <td>{{product.timestamp| date : 'medium' }}</td>
                        <td>{{product.group_id}}</td>
                        <td class="alert alert-{{(product.connectivity === 'Blocked')?'danger':'success'}}">{{product.connectivity}}</td>
                    </tr>
                    </tbody>
                </table>

            </div>
        </div>
    </div>
</div>